
:root{
  --bg:#0f1115; --panel:#151923; --muted:#9aa3b2; --text:#e6e8eb; --border:#242936; --accent:#41d1c6; --danger:#ff5d5d;
  --bgL:#f7f8fb; --panelL:#ffffff; --textL:#0c0f16; --mutedL:#5a6270; --borderL:#e5e8ef; --accentL:#0e7c86;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;background:var(--bg);color:var(--text);}
html[data-theme="light"] body{background:var(--bgL);color:var(--textL)}
a{color:#9de1ff;text-decoration:none}
html[data-theme="light"] a{color:#0b5b9e}
.container{max-width:1200px;margin:88px auto 80px;padding:0 16px}
.topbar{position:fixed;top:0;left:0;right:0;background:rgba(15,17,21,.8);backdrop-filter:saturate(180%) blur(12px);display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--border);z-index:10}
html[data-theme="light"] .topbar{background:rgba(250,250,255,.8);border-bottom:1px solid var(--borderL)}
.brand{font-weight:700;letter-spacing:.3px}
.brand .sub{color:var(--muted);font-weight:500;margin-left:6px}
html[data-theme="light"] .brand .sub{color:var(--mutedL)}
.nav{display:flex;gap:10px;align-items:center}
.btn{background:#1a1f2b;border:1px solid var(--border);color:var(--text);padding:9px 12px;border-radius:10px;cursor:pointer}
.btn:hover{border-color:#384055}
.btn.ghost{background:transparent}
.btn.danger{background:transparent;border-color:#3b2a2a;color:#ffb8b8}
html[data-theme="light"] .btn{background:#eef2f7;border:1px solid var(--borderL);color:var(--textL)}
html[data-theme="light"] .btn.ghost{background:transparent}
.card{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:14px;margin:14px 0}
html[data-theme="light"] .card{background:var(--panelL);border:1px solid var(--borderL)}
.section-title{font-weight:600;margin-bottom:8px}
.muted{color:var(--muted);font-size:.95rem}
html[data-theme="light"] .muted{color:var(--mutedL)}
.controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin:8px 0 2px}
.controls input[type="text"], .controls input[type="number"]{background:#0c0f16;border:1px solid var(--border);border-radius:10px;padding:10px 12px;color:var(--text);min-width:200px}
html[data-theme="light"] .controls input{background:#f4f6fb;border:1px solid var(--borderL);color:var(--textL)}
.seg{display:inline-flex;background:#0c0f16;border:1px solid var(--border);border-radius:10px;overflow:hidden}
.seg button{all:unset;padding:9px 14px;cursor:pointer}
.seg button.active{background:var(--accent);color:#081015}
html[data-theme="light"] .seg{background:#eef2f7;border:1px solid var(--borderL)}
.grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.grid4{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.wide{grid-column:1/-1}
@media (max-width: 1060px){.grid3{grid-template-columns:1fr 1fr}.wide{grid-column:1/-1}}
@media (max-width: 760px){.grid3,.grid2,.grid4{grid-template-columns:1fr}}
.kv{display:grid;grid-template-columns:repeat(6, minmax(120px,1fr));gap:10px}
.kv.mc{grid-template-columns:repeat(6, minmax(120px,1fr))}
.kv label{display:flex;flex-direction:column;font-size:.92rem;color:var(--muted);gap:6px}
html[data-theme="light"] .kv label{color:var(--mutedL)}
.out{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
.pill{border:1px solid var(--border);border-radius:999px;padding:6px 10px;background:#0c0f16}
html[data-theme="light"] .pill{background:#eef2f7;border:1px solid var(--borderL)}
.foot{font-size:.9rem;color:var(--muted);margin-top:6px}
.watch{list-style:none;margin:0;padding:0;display:flex;flex-wrap:wrap;gap:8px}
.watch li{display:flex;align-items:center;gap:8px;border:1px solid var(--border);background:#0c0f16;border-radius:999px;padding:6px 10px}
.watch .rm{cursor:pointer;color:#e99; border-left:1px solid var(--border); padding-left:8px}
.table-wrap{overflow:auto}
.tbl{width:100%;border-collapse:collapse}
.tbl th,.tbl td{border-bottom:1px solid var(--border);padding:8px 10px;text-align:left;font-size:.95rem}
.tbl td:last-child{text-align:right}
.journal-inp{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0}
.journal-inp input, .journal-inp select{background:#0c0f16;border:1px solid var(--border);border-radius:8px;padding:8px 10px;color:var(--text)}
html[data-theme="light"] .journal-inp input, html[data-theme="light"] .journal-inp select{background:#f4f6fb;border:1px solid var(--borderL);color:var(--textL)}
.filelabel{position:relative;overflow:hidden}
.filelabel input[type="file"]{position:absolute;inset:0;opacity:0;cursor:pointer}
.footbar{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-between;align-items:center;padding:10px 16px;background:rgba(15,17,21,.8);backdrop-filter:saturate(180%) blur(12px);border-top:1px solid var(--border)}
html[data-theme="light"] .footbar{background:rgba(250,250,255,.8);border-top:1px solid var(--borderL)}
code{background:#0c0f16;border:1px solid var(--border);padding:2px 6px;border-radius:6px}
html[data-theme="light"] code{background:#eef2f7;border:1px solid var(--borderL)}
#tv-tech-1d, #tv-tech-1h, #tv-tech-1m, #tv-adv-chart{min-height:360px}
#tv-adv-chart{min-height:520px}
.market-clock{display:flex;flex-direction:column;gap:6px}
.clock-row{display:flex;gap:20px;flex-wrap:wrap}
.clock-row.small{font-size:.95rem}
.chart{width:100%;border:1px dashed var(--border);border-radius:10px;margin-top:10px;background:linear-gradient(180deg, rgba(65,209,198,0.04), transparent 60%)}
.stats .stat{background:#0c0f16;border:1px solid var(--border);border-radius:10px;padding:10px}
html[data-theme="light"] .stats .stat{background:#eef2f7;border:1px solid var(--borderL)}
.stat .h{font-size:.8rem;color:var(--muted);margin-bottom:6px}
.stat .v{font-weight:700}
/* iOS tap highlights */
button, input, select { -webkit-tap-highlight-color: rgba(255,255,255,0.1); }
